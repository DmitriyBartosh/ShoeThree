{"version":3,"sources":["component/customcar/state.js","component/customcar/Shoe.js","component/customcar/colorChanger.js","component/customcar/customcar.js","App.js","index.js"],"names":["shoeColor","proxy","current","shoes","left","right","item","laces","mesh","caps","inner","sole","stripes","band","patch","shoeLang","Model","props","group","useRef","useGLTF","nodes","materials","snap","useSnapshot","useState","hovered","setHovered","useEffect","cursor","document","body","style","btoa","unescape","encodeURIComponent","ref","dispose","onPointerOver","e","stopPropagation","object","material","name","onPointerOut","intersections","length","geometry","shoe","shoe_1","shoe_2","shoe_3","shoe_4","shoe_5","shoe_6","shoe_7","preload","ColorChanger","colorPick","AnimatePresence","motion","div","initial","y","opacity","animate","exit","className","color","onChange","Customcar","dpr","camera","position","fov","intensity","angle","penumbra","castShadow","fallback","rotation","onPointerDown","onPointerMissed","scale","Environment","preset","ContactShadows","Math","PI","width","height","blur","far","OrbitControls","enablePan","zoomSpeed","minDistance","maxDistance","maxPolarAngle","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2102fbf4.chunk.js","sourcesContent":["import { proxy } from 'valtio'\r\n\r\nexport const shoeColor = proxy({\r\n  current: null,\r\n  shoes: {\r\n    left: false,\r\n    right: false,\r\n  },\r\n  item: {\r\n    laces: \"#ffffff\",\r\n    mesh: \"#ffffff\",\r\n    caps: \"#ffffff\",\r\n    inner: \"#ffffff\",\r\n    sole: \"#ffffff\",\r\n    stripes: \"#ffffff\",\r\n    band: \"#ffffff\",\r\n    patch: \"#ffffff\",\r\n  }\r\n})\r\n\r\nexport const shoeLang = {\r\n  laces: \"шнурки\",\r\n  mesh: \"основа\",\r\n  caps: \"кольца\",\r\n  inner: \"внутри\",\r\n  sole: \"подошва\",\r\n  stripes: \"полосы\",\r\n  band: \"лента\",\r\n  patch: \"накладка\",\r\n}","import React, { useRef, useState, useEffect } from 'react'\nimport { useGLTF } from '@react-three/drei'\nimport { useSnapshot } from 'valtio'\nimport { shoeColor, shoeLang } from './state'\n\nexport default function Model(props) {\n  const group = useRef()\n  const { nodes, materials } = useGLTF('/ShoeThree/build/model/shoe-draco.glb')\n  const snap = useSnapshot(shoeColor);\n  const [hovered, setHovered] = useState(null);\n\n  useEffect(() => {\n    const cursor = `<svg width=\"100\" height=\"100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0)\"><path fill=\"rgba(255, 255, 255, 0.5)\" d=\"M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z\" stroke=\"#000\"/><g filter=\"url(#filter0_d)\"><path d=\"M29.5 47C39.165 47 47 39.165 47 29.5S39.165 12 29.5 12 12 19.835 12 29.5 19.835 47 29.5 47z\" fill=\"${snap.item[hovered]}\"/></g><path d=\"M2 2l11 2.947L4.947 13 2 2z\" fill=\"#000\"/><text fill=\"#333\" style=\"white-space:pre\" font-family=\"Roboto, sans-serif\" font-size=\"12\" letter-spacing=\"0.5px\"><tspan x=\"35\" y=\"70\">${shoeLang[hovered]}</tspan></text></g><defs><clipPath id=\"clip0\"><path fill=\"#fff\" d=\"M0 0h100v100H0z\"/></clipPath><filter id=\"filter0_d\" x=\"6\" y=\"8\" width=\"47\" height=\"47\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\"><feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/><feColorMatrix in=\"SourceAlpha\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/><feOffset dy=\"2\"/><feGaussianBlur stdDeviation=\"3\"/><feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"/><feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/><feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\"/></filter></defs></svg>`\n    const auto = `<svg width=\"100\" height=\"100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"rgba(255, 255, 255, 0.5)\" d=\"M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z\" stroke=\"#000\"/><path d=\"M2 2l11 2.947L4.947 13 2 2z\" fill=\"#000\"/></svg>`\n    document.body.style.cursor = `url('data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(hovered ? cursor : auto)))}'), auto`\n  }, [hovered, snap])\n\n  return (\n    <group ref={group} {...props} dispose={null}\n      onPointerOver={(e) => { e.stopPropagation(); setHovered(e.object.material.name)}}\n      onPointerOut={(e) => { e.intersections.length === 0 && setHovered(null) }}\n    >\n      <mesh material-color={snap.item.laces} geometry={nodes.shoe.geometry} material={materials.laces} />\n      <mesh material-color={snap.item.mesh} geometry={nodes.shoe_1.geometry} material={materials.mesh} />\n      <mesh material-color={snap.item.caps} geometry={nodes.shoe_2.geometry} material={materials.caps} />\n      <mesh material-color={snap.item.inner} geometry={nodes.shoe_3.geometry} material={materials.inner} />\n      <mesh material-color={snap.item.sole} geometry={nodes.shoe_4.geometry} material={materials.sole} />\n      <mesh material-color={snap.item.stripes} geometry={nodes.shoe_5.geometry} material={materials.stripes} />\n      <mesh material-color={snap.item.band} geometry={nodes.shoe_6.geometry} material={materials.band} />\n      <mesh material-color={snap.item.patch} geometry={nodes.shoe_7.geometry} material={materials.patch} />\n    </group>\n  )\n}\n\nuseGLTF.preload('/model/shoe-draco.glb')\n","import React from 'react'\r\nimport { HexColorPicker } from 'react-colorful'\r\nimport { useSnapshot } from 'valtio'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\n\r\nimport { shoeColor, shoeLang } from './state'\r\n\r\nfunction ColorChanger() {\r\n  const colorPick = useSnapshot(shoeColor);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {shoeColor.current && (\r\n        <motion.div\r\n          initial={{ y: -25, opacity: 0 }}\r\n          animate={{ y: 0, opacity: 1 }}\r\n          exit={{ y: -25, opacity: 0 }}\r\n          className=\"colorContainer\">\r\n          <div className=\"colorPicker\">\r\n            <HexColorPicker\r\n              color={colorPick.item[colorPick.current]}\r\n              onChange={(color) => (shoeColor.item[colorPick.current] = color)}\r\n            />\r\n          </div>\r\n          <div className=\"colorChanger\">\r\n            <h2><span>В фокусе: </span>{shoeLang[colorPick.current]}</h2>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  )\r\n}\r\n\r\nexport default ColorChanger\r\n","import React, { Suspense } from 'react'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport { OrbitControls, Environment, ContactShadows } from '@react-three/drei'\r\nimport { useSnapshot } from 'valtio'\r\nimport { shoeColor } from './state'\r\nimport Shoe from './Shoe'\r\nimport ColorChanger from './colorChanger'\r\n\r\nfunction Customcar() {\r\n  const colorPick = useSnapshot(shoeColor);\r\n\r\n  return (\r\n    <div className=\"shoeContainer\">\r\n      <div className=\"titleContainer\">\r\n        <h1>Кроссовки</h1>\r\n        <p>Создайте свой уникальный стиль</p>\r\n      </div>\r\n      <ColorChanger />\r\n      <Canvas dpr={[1, 2]} camera={{ position: [0, 0, 5], fov: 50 }} >\r\n        <ambientLight intensity={0.35} />\r\n        <spotLight intensity={0.35} angle={0.1} penumbra={1} position={[10, 25, 10]} castShadow />\r\n        <Suspense fallback={null}>\r\n          <group\r\n            rotation={[0, -0.35, 0]}\r\n            position={[-0.15, 0.2, 0]}\r\n          >\r\n            <Shoe\r\n              rotation={[0.5, -2.1, 0]}\r\n              position={[0, 0, 1.15]}\r\n              onPointerDown={(e) => { shoeColor.shoes.left = true; e.stopPropagation(); shoeColor.current = e.object.material.name }}\r\n              onPointerMissed={() => { shoeColor.shoes.left = false; if (!shoeColor.shoes.left && !shoeColor.shoes.right) { shoeColor.current = null } }} />\r\n            <Shoe\r\n              scale={-1}\r\n              rotation={[3.5, -2.67, -0.05]}\r\n              position={[1.05, 0, 0]}\r\n              onPointerDown={(e) => { shoeColor.shoes.right = true; e.stopPropagation(); shoeColor.current = e.object.material.name }}\r\n              onPointerMissed={() => { shoeColor.shoes.right = false; if (!shoeColor.shoes.left && !shoeColor.shoes.right) { shoeColor.current = null } }}\r\n            />\r\n            <Environment preset=\"city\" />\r\n          </group>\r\n          <ContactShadows rotation-x={Math.PI / 2} position={[0, -0.8, 0]} opacity={0.3} width={8} height={8} blur={1.5} far={0.8} />\r\n        </Suspense>\r\n\r\n        <OrbitControls enablePan={false} zoomSpeed={0.35} minDistance={3} maxDistance={8} maxPolarAngle={1.65} />\r\n      </Canvas>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Customcar\r\n","import CustomCar from './component/customcar/customcar'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <CustomCar />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './sass/main.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}